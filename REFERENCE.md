# Reference

<!-- DO NOT EDIT: This document was generated by Puppet Strings -->

## Table of Contents

### Classes

#### Public Classes

* [`rundeck`](#rundeck): Class to manage installation and configuration of Rundeck.

#### Private Classes

* `rundeck::config`: This class is called from rundeck to manage the configuration.
* `rundeck::config::framework`: This private class is called from rundeck::config used to manage the framework properties of rundeck.
* `rundeck::config::jaas_auth`: This private class is called from rundeck::config used to manage jaas authentication for rundeck.
* `rundeck::config::ssl`: This private class is called from rundeck::config used to manage the ssl properties if ssl is enabled.
* `rundeck::install`: This class is called from rundeck for install.
* `rundeck::service`: This class is called from rundeck to manage service.

### Defined types

* [`rundeck::config::resource::aclpolicyfile`](#rundeck--config--resource--aclpolicyfile): This define will create a custom acl policy file.
* [`rundeck::config::resource::plugin`](#rundeck--config--resource--plugin): This define will install a rundeck plugin.

### Functions

* [`validate_rd_policy`](#validate_rd_policy): ''

### Data types

* [`Rundeck::Auth_config`](#Rundeck--Auth_config): Rundeck authentication config type.
* [`Rundeck::Db_config`](#Rundeck--Db_config): Rundeck database config type.
* [`Rundeck::Loglevel`](#Rundeck--Loglevel): Rundeck log level type.
* [`Rundeck::Mail_config`](#Rundeck--Mail_config): Rundeck mail config type.
* [`Rundeck::Sourcetype`](#Rundeck--Sourcetype): Rundeck sourcetype type.

## Classes

### <a name="rundeck"></a>`rundeck`

Class to manage installation and configuration of Rundeck.

#### Parameters

The following parameters are available in the `rundeck` class:

* [`acl_template`](#-rundeck--acl_template)
* [`admin_policies`](#-rundeck--admin_policies)
* [`api_policies`](#-rundeck--api_policies)
* [`auth_config`](#-rundeck--auth_config)
* [`clustermode_enabled`](#-rundeck--clustermode_enabled)
* [`database_config`](#-rundeck--database_config)
* [`execution_mode`](#-rundeck--execution_mode)
* [`framework_config`](#-rundeck--framework_config)
* [`gui_config`](#-rundeck--gui_config)
* [`java_home`](#-rundeck--java_home)
* [`jvm_args`](#-rundeck--jvm_args)
* [`key_storage_config`](#-rundeck--key_storage_config)
* [`keystore`](#-rundeck--keystore)
* [`keystore_password`](#-rundeck--keystore_password)
* [`log_properties_template`](#-rundeck--log_properties_template)
* [`mail_config`](#-rundeck--mail_config)
* [`key_password`](#-rundeck--key_password)
* [`ssl_private_key`](#-rundeck--ssl_private_key)
* [`ssl_certificate`](#-rundeck--ssl_certificate)
* [`manage_default_admin_policy`](#-rundeck--manage_default_admin_policy)
* [`manage_default_api_policy`](#-rundeck--manage_default_api_policy)
* [`repo_config`](#-rundeck--repo_config)
* [`manage_repo`](#-rundeck--manage_repo)
* [`package_ensure`](#-rundeck--package_ensure)
* [`preauthenticated_config`](#-rundeck--preauthenticated_config)
* [`app_log_level`](#-rundeck--app_log_level)
* [`audit_log_level`](#-rundeck--audit_log_level)
* [`config_template`](#-rundeck--config_template)
* [`manage_home`](#-rundeck--manage_home)
* [`override_template`](#-rundeck--override_template)
* [`realm_template`](#-rundeck--realm_template)
* [`rss_enabled`](#-rundeck--rss_enabled)
* [`security_config`](#-rundeck--security_config)
* [`server_web_context`](#-rundeck--server_web_context)
* [`service_name`](#-rundeck--service_name)
* [`service_ensure`](#-rundeck--service_ensure)
* [`service_logs_dir`](#-rundeck--service_logs_dir)
* [`service_config`](#-rundeck--service_config)
* [`service_script`](#-rundeck--service_script)
* [`ssl_enabled`](#-rundeck--ssl_enabled)
* [`ssl_port`](#-rundeck--ssl_port)
* [`truststore`](#-rundeck--truststore)
* [`truststore_password`](#-rundeck--truststore_password)
* [`user`](#-rundeck--user)
* [`group`](#-rundeck--group)
* [`manage_user`](#-rundeck--manage_user)
* [`manage_group`](#-rundeck--manage_group)
* [`user_id`](#-rundeck--user_id)
* [`group_id`](#-rundeck--group_id)
* [`key_storage_encrypt_config`](#-rundeck--key_storage_encrypt_config)
* [`quartz_job_threadcount`](#-rundeck--quartz_job_threadcount)
* [`override_dir`](#-rundeck--override_dir)

##### <a name="-rundeck--acl_template"></a>`acl_template`

Data type: `String`

The template used for acl policy. Needs to be in epp format.

Default value: `'rundeck/aclpolicy.erb'`

##### <a name="-rundeck--admin_policies"></a>`admin_policies`

Data type: `Array[Hash]`

Admin acl policies. Default value is located in data/common.yaml.

##### <a name="-rundeck--api_policies"></a>`api_policies`

Data type: `Array[Hash]`

Apitoken acl policies. Default value is located in data/common.yaml.

##### <a name="-rundeck--auth_config"></a>`auth_config`

Data type: `Rundeck::Auth_config`

Hash of properties for configuring [Rundeck JAAS Authentication](https://docs.rundeck.com/docs/administration/security/authentication.html#jetty-and-jaas-authentication)
Default value is located in data/common.yaml.

##### <a name="-rundeck--clustermode_enabled"></a>`clustermode_enabled`

Data type: `Boolean`

Boolean value if set to true enables cluster mode

Default value: `false`

##### <a name="-rundeck--database_config"></a>`database_config`

Data type: `Rundeck::Db_config`

Hash of properties for configuring the [Rundeck Database](https://docs.rundeck.com/docs/administration/configuration/database)

##### <a name="-rundeck--execution_mode"></a>`execution_mode`

Data type: `Enum['active', 'passive']`

If set, allows setting the execution mode to 'active' or 'passive'.

Default value: `'active'`

##### <a name="-rundeck--framework_config"></a>`framework_config`

Data type: `Hash`

Hash of properties for configuring the [Rundeck Framework](https://docs.rundeck.com/docs/administration/configuration/config-file-reference.html#framework-properties)
Default value is located in data/common.yaml.

##### <a name="-rundeck--gui_config"></a>`gui_config`

Data type: `Hash`

Hash of properties for customizing the [Rundeck GUI](https://docs.rundeck.com/docs/administration/configuration/gui-customization.html)

Default value: `{}`

##### <a name="-rundeck--java_home"></a>`java_home`

Data type: `Optional[Stdlib::Absolutepath]`

Set the home directory of java.

Default value: `undef`

##### <a name="-rundeck--jvm_args"></a>`jvm_args`

Data type: `String`

Extra arguments for the JVM.

Default value: `'-Xmx1024m -Xms256m -server'`

##### <a name="-rundeck--key_storage_config"></a>`key_storage_config`

Data type: `Array[Hash]`

An array with hashes of properties for customizing the [Rundeck Key Storage](https://docs.rundeck.com/docs/manual/key-storage/key-storage.html)

##### <a name="-rundeck--keystore"></a>`keystore`

Data type: `Stdlib::Absolutepath`

Full path to the java keystore to be used by Rundeck.

Default value: `'/etc/rundeck/ssl/keystore'`

##### <a name="-rundeck--keystore_password"></a>`keystore_password`

Data type: `String`

The password for the given keystore.

Default value: `'adminadmin'`

##### <a name="-rundeck--log_properties_template"></a>`log_properties_template`

Data type: `String`

The template used for log properties. Needs to be in epp format.

Default value: `'rundeck/log4j2.properties.epp'`

##### <a name="-rundeck--mail_config"></a>`mail_config`

Data type: `Rundeck::Mail_config`

A hash of the notification email configuraton.

Default value: `{}`

##### <a name="-rundeck--key_password"></a>`key_password`

Data type: `Optional[String]`

The password used to protect the key in keystore.

Default value: `undef`

##### <a name="-rundeck--ssl_private_key"></a>`ssl_private_key`

Data type: `Stdlib::Absolutepath`

Full path to the SSL private key to be used by Rundeck.

Default value: `'/etc/rundeck/ssl/rundeck.key'`

##### <a name="-rundeck--ssl_certificate"></a>`ssl_certificate`

Data type: `Stdlib::Absolutepath`

Full path to the SSL public key to be used by Rundeck.

Default value: `'/etc/rundeck/ssl/rundeck.crt'`

##### <a name="-rundeck--manage_default_admin_policy"></a>`manage_default_admin_policy`

Data type: `Boolean`

Boolean value if set to true enables default admin policy management

Default value: `true`

##### <a name="-rundeck--manage_default_api_policy"></a>`manage_default_api_policy`

Data type: `Boolean`

Boolean value if set to true enables default api policy management

Default value: `true`

##### <a name="-rundeck--repo_config"></a>`repo_config`

Data type: `Hash`

A hash of repository types and attributes for configuring the rundeck package repositories.
Examples/defaults for yumrepo can be found at data/os/RedHat.yaml, and for apt at data/os/Debian.yaml

##### <a name="-rundeck--manage_repo"></a>`manage_repo`

Data type: `Boolean`

Whether to manage the package repository. Defaults to true.

Default value: `true`

##### <a name="-rundeck--package_ensure"></a>`package_ensure`

Data type: `String`

Ensure the state of the rundeck package, either present, absent or a specific version

Default value: `'installed'`

##### <a name="-rundeck--preauthenticated_config"></a>`preauthenticated_config`

Data type: `Hash`

A hash of the rundeck preauthenticated config mode

Default value: `{}`

##### <a name="-rundeck--app_log_level"></a>`app_log_level`

Data type: `Rundeck::Loglevel`

The log4j logging level to be set for the Rundeck application.

Default value: `'info'`

##### <a name="-rundeck--audit_log_level"></a>`audit_log_level`

Data type: `Rundeck::Loglevel`

The log4j logging level to be set for the Rundeck autorization.

Default value: `'info'`

##### <a name="-rundeck--config_template"></a>`config_template`

Data type: `String`

Allows you to override the rundeck-config template.

Default value: `'rundeck/rundeck-config.properties.epp'`

##### <a name="-rundeck--manage_home"></a>`manage_home`

Data type: `Boolean`

Whether to manage rundeck home dir. Defaults to true.

Default value: `true`

##### <a name="-rundeck--override_template"></a>`override_template`

Data type: `String`

Allows you to use your own override template for rundeck profile instead of the default from the package maintainer

Default value: `'rundeck/profile_overrides.epp'`

##### <a name="-rundeck--realm_template"></a>`realm_template`

Data type: `String`

Allows you to use your own override template for realm properties instead of the default from the package maintainer

Default value: `'rundeck/realm.properties.epp'`

##### <a name="-rundeck--rss_enabled"></a>`rss_enabled`

Data type: `Boolean`

Boolean value if set to true enables RSS feeds that are public (non-authenticated)

Default value: `false`

##### <a name="-rundeck--security_config"></a>`security_config`

Data type: `Hash`

A hash of the rundeck security configuration.

Default value: `{}`

##### <a name="-rundeck--server_web_context"></a>`server_web_context`

Data type: `Optional[String]`

Web context path to use, such as "/rundeck". http://host.domain:port/server_web_context

Default value: `undef`

##### <a name="-rundeck--service_name"></a>`service_name`

Data type: `String`

The name of the rundeck service.

Default value: `'rundeckd'`

##### <a name="-rundeck--service_ensure"></a>`service_ensure`

Data type: `Enum['stopped', 'running']`

State of the rundeck service (defaults to 'running')

Default value: `'running'`

##### <a name="-rundeck--service_logs_dir"></a>`service_logs_dir`

Data type: `Stdlib::Absolutepath`

The path to the directory to store service related logs.

Default value: `'/var/log/rundeck'`

##### <a name="-rundeck--service_config"></a>`service_config`

Data type: `Optional[String]`

Allows you to use your own override template instead to config rundeckd init script.

Default value: `undef`

##### <a name="-rundeck--service_script"></a>`service_script`

Data type: `Optional[String]`

Allows you to use your own override template instead of the default from the package maintainer for rundeckd init script.

Default value: `undef`

##### <a name="-rundeck--ssl_enabled"></a>`ssl_enabled`

Data type: `Boolean`

Enable ssl for the rundeck web application.

Default value: `false`

##### <a name="-rundeck--ssl_port"></a>`ssl_port`

Data type: `Stdlib::Port`

Ssl port of the rundeck web application (default to '4443').

Default value: `4443`

##### <a name="-rundeck--truststore"></a>`truststore`

Data type: `Stdlib::Absolutepath`

The full path to the java truststore to be used by Rundeck.

Default value: `'/etc/rundeck/ssl/truststore'`

##### <a name="-rundeck--truststore_password"></a>`truststore_password`

Data type: `String`

The password for the given truststore.

Default value: `'adminadmin'`

##### <a name="-rundeck--user"></a>`user`

Data type: `String`

The user that rundeck is installed as.

Default value: `'rundeck'`

##### <a name="-rundeck--group"></a>`group`

Data type: `String`

The group permission that rundeck is installed as.

Default value: `'rundeck'`

##### <a name="-rundeck--manage_user"></a>`manage_user`

Data type: `Boolean`

Whether to manage `user` (and enforce `user_id` if set). Defaults to false.

Default value: `false`

##### <a name="-rundeck--manage_group"></a>`manage_group`

Data type: `Boolean`

Whether to manage `group` (and enforce `group_id` if set). Defaults to false.

Default value: `false`

##### <a name="-rundeck--user_id"></a>`user_id`

Data type: `Optional[Integer]`

If you want to have always the same user id. Eg. because of the NFS share.

Default value: `undef`

##### <a name="-rundeck--group_id"></a>`group_id`

Data type: `Optional[Integer]`

If you want to have always the same group id. Eg. because of the NFS share.

Default value: `undef`

##### <a name="-rundeck--key_storage_encrypt_config"></a>`key_storage_encrypt_config`

Data type: `Hash`

Hash containing the necessary values to configure a plugin for key storage encryption.
https://docs.rundeck.com/docs/administration/configuration/plugins/configuring.html#storage-converter-plugins

Default value: `{}`

##### <a name="-rundeck--quartz_job_threadcount"></a>`quartz_job_threadcount`

Data type: `Integer`

The maximum number of threads used by Rundeck for concurrent jobs by default is set to 10.

Default value: `10`

##### <a name="-rundeck--override_dir"></a>`override_dir`

Data type: `Stdlib::Absolutepath`



## Defined types

### <a name="rundeck--config--resource--aclpolicyfile"></a>`rundeck::config::resource::aclpolicyfile`

This define will create a custom acl policy file.

#### Examples

##### Admin access.

```puppet
rundeck::config::resource::aclpolicyfile { 'myPolicyFile':
  acl_policies => [
    {
      'description'    => 'Admin, all access',
      'context'        => {
        'type' => 'project',
        'rule' => '.*',
      },
      'resource_types' => [
        { 'type'  => 'resource', 'rules' => [{ 'name' => 'allow','rule' => '*' }] },
        { 'type'  => 'adhoc', 'rules' => [{ 'name' => 'allow','rule' => '*' }] },
        { 'type'  => 'job', 'rules' => [{ 'name' => 'allow','rule' => '*' }] },
        { 'type'  => 'node', 'rules' => [{ 'name' => 'allow','rule' => '*' }] }
      ],
      'by'             => {
        'group'    => ['admin'],
        'username' => undef,
      }
    },
    {
      'description'    => 'Admin, all access',
      'context'        => {
        'type' => 'application',
        'rule' => 'rundeck',
      },
      'resource_types' => [
        { 'type'  => 'resource', 'rules' => [{ 'name' => 'allow','rule' => '*' }] },
        { 'type'  => 'project', 'rules' => [{ 'name' => 'allow','rule' => '*' }] },
        { 'type'  => 'storage', 'rules' => [{ 'name' => 'allow','rule' => '*' }] },
      ],
      'by'             => {
        'group'    => ['admin'],
        'username' => undef,
      }
    }
  ],
}
```

#### Parameters

The following parameters are available in the `rundeck::config::resource::aclpolicyfile` defined type:

* [`acl_policies`](#-rundeck--config--resource--aclpolicyfile--acl_policies)
* [`group`](#-rundeck--config--resource--aclpolicyfile--group)
* [`owner`](#-rundeck--config--resource--aclpolicyfile--owner)
* [`properties_dir`](#-rundeck--config--resource--aclpolicyfile--properties_dir)
* [`template_file`](#-rundeck--config--resource--aclpolicyfile--template_file)

##### <a name="-rundeck--config--resource--aclpolicyfile--acl_policies"></a>`acl_policies`

Data type: `Array[Hash]`

An array of hashes containing acl policies. See example.

##### <a name="-rundeck--config--resource--aclpolicyfile--group"></a>`group`

Data type: `String`

The group permission that rundeck is installed as.

Default value: `'rundeck'`

##### <a name="-rundeck--config--resource--aclpolicyfile--owner"></a>`owner`

Data type: `String`

The user that rundeck is installed as.

Default value: `'rundeck'`

##### <a name="-rundeck--config--resource--aclpolicyfile--properties_dir"></a>`properties_dir`

Data type: `Stdlib::Absolutepath`

The rundeck configuration directory.

Default value: `'/etc/rundeck'`

##### <a name="-rundeck--config--resource--aclpolicyfile--template_file"></a>`template_file`

Data type: `String`

The template used for acl policy. Default is rundeck/aclpolicy.erb

Default value: `"${module_name}/aclpolicy.erb"`

### <a name="rundeck--config--resource--plugin"></a>`rundeck::config::resource::plugin`

This define will install a rundeck plugin.

#### Examples

##### Basic usage.

```puppet
rundeck::config::resource::plugin { 'rundeck-hipchat-plugin-1.0.0.jar':
  source => 'http://search.maven.org/remotecontent?filepath=com/hbakkum/rundeck/plugins/rundeck-hipchat-plugin/1.0.0/rundeck-hipchat-plugin-1.0.0.jar',
}
```

#### Parameters

The following parameters are available in the `rundeck::config::resource::plugin` defined type:

* [`ensure`](#-rundeck--config--resource--plugin--ensure)
* [`source`](#-rundeck--config--resource--plugin--source)

##### <a name="-rundeck--config--resource--plugin--ensure"></a>`ensure`

Data type: `Enum['present', 'absent']`

Set present or absent to add or remove the plugin

Default value: `'present'`

##### <a name="-rundeck--config--resource--plugin--source"></a>`source`

Data type: `String`

The http source or local path from which to get the plugin.

## Functions

### <a name="validate_rd_policy"></a>`validate_rd_policy`

Type: Ruby 3.x API

''

#### `validate_rd_policy()`

''

Returns: `Any`

## Data types

### <a name="Rundeck--Auth_config"></a>`Rundeck::Auth_config`

Rundeck authentication config type.

Alias of

```puppet
Struct[{
    Optional['file'] => Hash[String, Data],
    Optional['ldap'] => Hash[String, Data],
    Optional['pam']  => Hash[String, Data],
}]
```

### <a name="Rundeck--Db_config"></a>`Rundeck::Db_config`

Rundeck database config type.

Alias of

```puppet
Struct[{
    'url'                                  => String,
    Optional['driverClassName']            => String,
    Optional['username']                   => String,
    Optional['password']                   => String,
    Optional['dialect']                    => String,
    Optional['properties.validationQuery'] => String,
}]
```

### <a name="Rundeck--Loglevel"></a>`Rundeck::Loglevel`

Rundeck log level type.

Alias of `Enum['all', 'debug', 'error', 'fatal', 'info', 'off', 'trace', 'warn']`

### <a name="Rundeck--Mail_config"></a>`Rundeck::Mail_config`

Rundeck mail config type.

Alias of

```puppet
Struct[{
    Optional['host']         => String,
    Optional['port']         => Integer,
    Optional['username']     => String,
    Optional['password']     => String,
    Optional['props']        => Array[Hash],
    Optional['default.from'] => String,
    Optional['default.to']   => String,
    Optional['disabled']     => Boolean,
}]
```

### <a name="Rundeck--Sourcetype"></a>`Rundeck::Sourcetype`

Rundeck sourcetype type.

Alias of `Enum['file', 'directory', 'url', 'script', 'aws-ec2', 'puppet-enterprise']`

